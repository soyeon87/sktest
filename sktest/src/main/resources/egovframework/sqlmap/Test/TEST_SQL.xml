<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >

<sqlMap namespace="Test">

   	<select id="testDao.getPositionData" 
		parameterClass="HashMap" resultClass="java.util.LinkedHashMap"
		remapResults="true">
			SELECT name, concat(longitude) as grd_lo, concat(latitude) as grd_la, address
			FROM map_position
	</select>

	<select id="testDao.getRoomData" 
		parameterClass="HashMap" resultClass="java.util.LinkedHashMap"
		remapResults="true">
			SELECT name, concat(longitude) as grd_lo, concat(latitude) as grd_la, address, image
			FROM map_position
			<isNotEmpty  property="location">
       			<iterate prepend="WHERE location in" property="location" open="(" close=")" conjunction=",">
            		#location[]#
       			</iterate>
  			</isNotEmpty>
	</select>

	<select id="testDao.getSubwayPosition" 
		parameterClass="HashMap" resultClass="java.util.LinkedHashMap"
		remapResults="true">
			SELECT name, latitude, longitude 
			FROM subway_list
			WHERE NAME LIKE concat('%',#value#,'%') 
			LIMIT 1
	</select>
	
</sqlMap>